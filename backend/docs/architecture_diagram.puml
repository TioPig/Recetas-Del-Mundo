@startuml
title Arquitectura - API Recetas del Mundo
left to right direction
' Evitar `scale` para que PlantUML calcule el layout completo
skinparam backgroundColor #FFFFFF
skinparam defaultFontSize 16
skinparam titleFontSize 22
skinparam componentFontSize 16
skinparam noteFontSize 12
skinparam nodesep 18
skinparam component {
  BackgroundColor #F8F9FB
  BorderColor #1B4965
}

actor "Usuario" as User
node "Cliente" as Client {
  [Navegador / App]
}

node "Reverse Proxy (NGINX)" as Nginx

rectangle "Frontend - React.js" as Frontend

rectangle "API Gateway / Backend" as Backend {
  [Spring Boot (API REST)] as API
}

[Tareas en background] as Worker
database "Redis (cache/sesiones)" as Redis

' Coloco PostgreSQL justo después del `Backend` para que
' PlantUML lo sitúe debajo del API y las flechas conecten bien.
database "PostgreSQL" as PG

rectangle "Servicios externos" as External {
  [Stripe]
  [SMTP / Email]
}

User --> Client : Interacción UI
Client --> Nginx : HTTPS (TLS)
Nginx --> Frontend : HTTPS estáticos / Proxy
Frontend --> API : Llamadas API (HTTP)
API -down-> PG : Consultas SQL
API --> Redis : Cache / sesiones / rate-limit
API --> External : Pagos y notificaciones
API --> Worker : jobs  backups
Worker --> PG : Tareas programadas mantencion / procesos en lote
' Nota: las imágenes NO se almacenan en este servidor. Se usan servidores públicos/CDN.

note bottom
  Componentes clave:
  - Backend: Spring Boot (`Springboot/`)
  - Base de datos: PostgreSQL 15
  - Cache y sesiones: Redis (recomendado)
  - Imágenes: alojadas en servidores públicos / (no se almacenan en el servidor)
  - TLS/HTTPS: Reverse proxy NGINX (recomendada)
  - Contenedores: Docker Compose disponible

  
end note

'' footer removed on request

@enduml
