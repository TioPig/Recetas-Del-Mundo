<svg viewBox="0 0 1200 480" width="1000" height="420" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="8" stdDeviation="18" flood-color="#0f172a" flood-opacity="0.08"/>
    </filter>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L10,5 L0,10 z" fill="#475569"/>
    </marker>
  </defs>
  <g font-family="Inter,Verdana,sans-serif">
    <!-- Usuario/Frontend -->
    <g transform="translate(40,40)">
      <rect x="0" y="0" width="220" height="90" rx="14" fill="#ffffff" stroke="#e6eef8" stroke-width="1" filter="url(#shadow)"/>
      <text x="28" y="30" font-size="16" font-weight="600" fill="#0f172a">Usuario</text>
      <text x="28" y="56" font-size="13" fill="#475569">Ionic / Angular (Frontend)</text>
    </g>
    <!-- Edge / LB -->
    <g transform="translate(320,40)">
      <rect x="0" y="0" width="200" height="90" rx="12" fill="#eef2ff" stroke="#c7d2fe"/>
      <text x="18" y="36" font-size="15" font-weight="600" fill="#3730a3">Edge / Load Balancer</text>
      <text x="18" y="56" font-size="12" fill="#475569">Nginx / Cloud LB (HTTPS)</text>
    </g>
    <!-- Backend -->
    <g transform="translate(560,20)">
      <rect x="0" y="0" width="340" height="160" rx="16" fill="#ffffff" stroke="#e6eef8" filter="url(#shadow)"/>
      <text x="22" y="34" font-size="16" font-weight="700" fill="#0f172a">Backend: ms-recetas (Spring Boot)</text>
      <text x="22" y="60" font-size="13" fill="#475569">Auth (BCrypt, JWT) · Controllers · Services</text>
      <!-- small service boxes -->
      <rect x="26" y="78" width="120" height="50" rx="10" fill="#f8fafc" stroke="#e2e8f0"/>
      <text x="36" y="105" font-size="12" fill="#0f172a">Auth / JWT</text>
      <rect x="156" y="78" width="150" height="50" rx="10" fill="#fff7ed" stroke="#fed7aa"/>
      <text x="166" y="105" font-size="12" fill="#92400e">Payments / Flow</text>
    </g>
    <!-- Database -->
    <g transform="translate(560,220)">
      <rect x="0" y="0" width="220" height="90" rx="12" fill="#ecfdf5" stroke="#bbf7d0"/>
      <text x="18" y="34" font-size="15" font-weight="600" fill="#065f46">PostgreSQL</text>
      <text x="18" y="56" font-size="12" fill="#065f46">usuario, pago, receta...</text>
    </g>
    <!-- Flow external -->
    <g transform="translate(940,40)">
      <rect x="0" y="0" width="200" height="90" rx="12" fill="#fff1f2" stroke="#fecaca"/>
      <text x="18" y="36" font-size="15" font-weight="600" fill="#9f1239">Flow (Pagos)</text>
      <text x="18" y="56" font-size="12" fill="#7f1d1d">Webhook / Checkout</text>
    </g>
    <!-- arrows -->
    <line x1="260" y1="85" x2="320" y2="85" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>
    <line x1="520" y1="85" x2="560" y2="85" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>
    <line x1="760" y1="110" x2="760" y2="220" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>
    <line x1="900" y1="85" x2="940" y2="85" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>
    <line x1="780" y1="255" x2="940" y2="85" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>
  </g>
</svg>