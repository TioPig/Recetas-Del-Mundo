<svg viewBox="0 0 900 350" width="900" height="350" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L10,5 L0,10 z" fill="#475569"/>
    </marker>
  </defs>
  <g font-family="Inter, Arial, sans-serif">
    <!-- Participants -->
    <text x="80" y="40" font-size="18" font-weight="bold">Usuario</text>
    <text x="240" y="40" font-size="18" font-weight="bold">Frontend</text>
    <text x="430" y="40" font-size="18" font-weight="bold">Backend</text>
    <text x="700" y="40" font-size="18" font-weight="bold">Flow</text>
    <!-- Lifelines -->
    <line x1="100" y1="60" x2="100" y2="320" stroke="#bbb" stroke-dasharray="6,4"/>
    <line x1="260" y1="60" x2="260" y2="320" stroke="#bbb" stroke-dasharray="6,4"/>
    <line x1="450" y1="60" x2="450" y2="320" stroke="#bbb" stroke-dasharray="6,4"/>
    <line x1="720" y1="60" x2="720" y2="320" stroke="#bbb" stroke-dasharray="6,4"/>
    <!-- Messages -->
    <text x="120" y="80" font-size="15">Solicita pago/compra</text>
    <line x1="120" y1="90" x2="250" y2="90" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="270" y="110" font-size="15">POST /flow/button (JWT)</text>
    <line x1="270" y1="120" x2="440" y2="120" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="470" y="140" font-size="15">Crea orden de pago</text>
    <line x1="470" y1="150" x2="710" y2="150" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="650" y="180" font-size="15" text-anchor="end">Redirige a checkout</text>
    <line x1="710" y1="190" x2="250" y2="190" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="730" y="220" font-size="15">Webhook pago</text>
    <line x1="730" y1="230" x2="450" y2="230" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>
    <text x="470" y="260" font-size="15">Actualiza estado</text>
    <line x1="470" y1="270" x2="250" y2="270" stroke="#475569" stroke-width="2" marker-end="url(#arrow)"/>
  </g>
</svg>